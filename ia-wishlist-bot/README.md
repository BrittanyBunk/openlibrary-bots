# IA Wishlist Bot

* Data for this can be found on the server.openjournal.foundation server. Contact admin to get access to the data
* Related Issue: [#869](https://github.com/internetarchive/openlibrary/issues/869)

# Database Information
* Field information is found in this [Google Sheet](https://docs.google.com/spreadsheets/d/1GDATWbgncmQzDaTJVdJU1kVcRhJIuMs0zHUnoCITED0/edit?usp=sharing)

* Name of table containing information: `data`
* Number of records in the table: `3099998`
* Sample data:
```json
(u'9780000000149', 1, 1, 1, 0, u'[{"name": "Brown, Sandra, 1948-", "lc": "n88012222", "viaf": "114156159"}]', 18, 0, 772, u'itemtype-audiobook-cassette', u'"1151900779"', u'Fat Tuesday', u'813.54', u'PS3552.R718', u'[{"id": "1204311", "src": "fast", "value": "Louisiana--New Orleans"}, {"id": "847651", "src": "fast", "value": "Carnival"}, {"id": "987322", "src": "fast", "value": "Kidnapping"}]', u'[{"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 365, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "37130465", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on CD", "holdings": 155, "itemtype": "itemtype-audiobook-cd", "language": "eng", "oclc": "46542648", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 108, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "44723967", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on CD", "holdings": 102, "itemtype": "itemtype-audiobook-cd", "language": "eng", "oclc": "37151730", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 9, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "316978825", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 6, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "679809717", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Music", "holdings": 6, "itemtype": "itemtype-music", "language": "eng", "oclc": "731331331", "title": "Fat tuesday."}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 5, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "243704760", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 4, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "229232284", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 2, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "62378810", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 2, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "319928571", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "eAudiobook", "holdings": 2, "itemtype": "itemtype-audiobook-digital", "language": "eng", "oclc": "812016401", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 1, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "222193015", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 1, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "608082541", "title": "Fat Tuesday ; Read by Stephen Lang."}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 1, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "790580164", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook on Cassette", "holdings": 1, "itemtype": "itemtype-audiobook-cassette", "language": "eng", "oclc": "970669770", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 1, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "48878310", "title": "Fat Tuesday"}, {"author": "Brown, Sandra, 1948-", "eholdings": 0, "format": "Audiobook", "holdings": 1, "itemtype": "itemtype-audiobook", "language": "eng", "oclc": "851592178", "title": "Fat Tuesday"}]', u'["731331331"]', u'Fat tuesday', u'1997', u'eng', None, None, u'Bantam Doubleday', u'[S.l.', u'/books/OL9209020M', u'[]', u'["Custom Engraving Company"]', u'Paperback', u'3', None, u'Airbrushed License Plates - Sports', u'[]', None, None, None, None, None, None, None, None, u'["AA"]', 0, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 0, None, None, 0, 0, 0, 0, None, None, 7, 0, u'xisbn: AA', None, None, None, None, None, None, None)
```
* List of columns
```python
>>> cur.execute("SELECT * FROM data;")
<sqlite3.Cursor object at 0x7f121508ace0>
>>> names = list(map(lambda x: x[0], cur.description))
>>> names
['isbn', 'has_xisbn', 'has_classify', 'has_ai', 'has_google', 'classify_author', 'classify_edition_count', 'classify_ehodings_count', 'classify_holdings_count', 'classify_item_type', 'classify_work_id', 'classify_title', 'classify_dewey', 'classify_lcc', 'classify_fast_subject_headings', 'classify_editions', 'xisbn_oclc_id', 'xisbn_title', 'xisbn_year', 'xisbn_language', 'xisbn_edition', 'xisbn_author', 'xisbn_publisher', 'xisbn_city', 'ia_books_id', 'ia_works_id', 'ia_publishers', 'ia_physical_format', 'ia_number_of_pages', 'ia_publish_date', 'ia_title', 'ia_authors', 'google_title', 'google_authors', 'google_publisher', 'google_publisher_date', 'google_description', 'google_page_count', 'google_print_type', 'google_language', 'xisbn_form', 'has_isbndb', 'isbndb_title', 'isbndb_publisher', 'isbndb_edition', 'isbndb_dimensions', 'isbndb_authors', 'isbndb_pub_date', 'isbndb_binding', 'isbndb_subjects', 'isbndb_dewey', 'isbndb_overview', 'isbndb_language', 'google_subject', 'google_subtitle', 'google_id', 'worldcat_form', 'worldcat_title', 'worldcat_title_alt', 'worldcat_edition', 'worldcat_copyright', 'worldcat_published', 'worldcat_publisher', 'worldcat_language', 'worldcat_creator_data', 'worldcat_creator', 'has_worldcat', 'worldcat_subjects', 'worldcat_oclc', 'no_author', 'no_publisher', 'flagged_author', 'flagged_publisher', 'flagged_author_data', 'flagged_publisher_data', 'revision', 'format_include', 'format_include_note', 'xisbn_related_isbn_eng', 'xisbn_related_isbn_other', 'xisbn_related_oclc_eng', 'xisbn_related_oclc_other', 'worldcat_oclc_other', 'classify_related_print_editions', 'flagged_author_data_match']
```

## Steps followed:
1. How many items in the list have neither: ia_works_id OR ia_books_id (i.e. OpenLibrary IDs)
2. Get unique works from the items in the list
3. We can also enforce a `ia_publish_date` > 2000 if we want to reduce the number of results returned


## Bookcovers
* BetterWorld Books Page